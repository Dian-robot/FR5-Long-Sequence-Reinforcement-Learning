<?xml version="1.0" ?>
<robot name="single_drawer" xmlns:xacro="http://ros.org/wiki/xacro">
  <material name="omni/Blue">
    <color rgba="0 0 0.8 1"/>
  </material>
  <material name="omni/Red">
    <color rgba="1 0 0 1"/>
  </material>
  <material name="omni/White">
    <color rgba="1 1 1 1"/>
  </material>
  <material name="omni/Green">
    <color rgba="0 1 0 1"/>
  </material>
  <material name="omni/Yellow">
    <color rgba="1 1 0 1"/>
  </material>
  <material name="omni/LightGrey">
    <color rgba="0.6 0.6 0.6 1"/>
  </material>
  <material name="omni/DarkGrey">
    <color rgba="0.4 0.4 0.4 1"/>
  </material>

  <!-- World link -->
  <link name="world"/>

  <!-- Base link -->
  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.6667" ixy="0" ixz="0" iyy="0.6667" iyz="0" izz="0.6667"/>
    </inertial>
  </link>

  <joint name="world_to_base" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.1"/>
    <parent link="world"/>
    <child link="base_link"/>
  </joint>

  <!-- Adjusted Cabinet Structure -->
  <link name="cabinet">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.6667" ixy="0" ixz="0" iyy="0.6667" iyz="0" izz="0.6667"/>
    </inertial>
  </link>

  <joint name="base_to_cabinet" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="cabinet"/>
  </joint>

  <!-- Adjusted Cabinet Top -->
  <link name="cabinet_top">
    <visual>
      <geometry><box size="0.4133 0.4067 0.0133"/></geometry>
      <material name="omni/White"/>
    </visual>
    <collision><geometry><box size="0.4133 0.4067 0.0133"/></geometry></collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.0067" ixy="0" ixz="0" iyy="0.0067" iyz="0" izz="0.0067"/>
    </inertial>
  </link>
  <joint name="cabinet_to_top" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.0033 0.08"/>  <!-- Height reduced -->
    <parent link="cabinet"/>
    <child link="cabinet_top"/>
  </joint>

  <!-- Adjusted Cabinet Bottom -->
  <link name="cabinet_bottom">
    <visual>
      <geometry><box size="0.4133 0.4067 0.0133"/></geometry>
      <material name="omni/White"/>
    </visual>
    <collision><geometry><box size="0.4133 0.4067 0.0133"/></geometry></collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.0067" ixy="0" ixz="0" iyy="0.0067" iyz="0" izz="0.0067"/>
    </inertial>
  </link>
  <joint name="cabinet_to_bottom" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.0033 -0.0933"/>
    <parent link="cabinet"/>
    <child link="cabinet_bottom"/>
  </joint>

  <!-- Cabinet Sides (保持原尺寸) -->
  <link name="cabinet_left">
    <visual>
      <geometry><box size="0.0067 0.4067 0.17"/></geometry>  <!-- Height reduced -->
      <material name="omni/White"/>
    </visual>
    <collision><geometry><box size="0.0067 0.4067 0.17"/></geometry></collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.0067" ixy="0" ixz="0" iyy="0.0067" iyz="0" izz="0.0067"/>
    </inertial>
  </link>
  <joint name="cabinet_to_left" type="fixed">
    <origin rpy="0 0 0" xyz="-0.2033 -0.0033 0"/>  <!-- Position adjusted -->
    <parent link="cabinet"/>
    <child link="cabinet_left"/>
  </joint>

  <link name="cabinet_right">
    <visual>
      <geometry><box size="0.0067 0.4067 0.17"/></geometry>
      <material name="omni/White"/>
    </visual>
    <collision><geometry><box size="0.0067 0.4067 0.17"/></geometry></collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.0067" ixy="0" ixz="0" iyy="0.0067" iyz="0" izz="0.0067"/>
    </inertial>
  </link>
  <joint name="cabinet_to_right" type="fixed">
    <origin rpy="0 0 0" xyz="0.2033 -0.0033 0"/>
    <parent link="cabinet"/>
    <child link="cabinet_right"/>
  </joint>

  <!-- Cabinet Back -->
  <link name="cabinet_back">
    <visual>
      <geometry><box size="0.4 0.0067 0.17"/></geometry>
      <material name="omni/White"/>
    </visual>
    <collision><geometry><box size="0.44 0.0067 0.23"/></geometry></collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.0067" ixy="0" ixz="0" iyy="0.0067" iyz="0" izz="0.0067"/>
    </inertial>
  </link>
  <joint name="cabinet_to_back" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.25 0"/>
    <parent link="cabinet"/>
    <child link="cabinet_back"/>
  </joint>

  <!-- Single Drawer -->
  <link name="drawer_1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="0.6667" ixy="0" ixz="0" iyy="0.6667" iyz="0" izz="0.6667"/>
    </inertial>
  </link>

  <joint name="base_drawer_1_joint" type="prismatic">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="drawer_1"/>
    <dynamics damping="0.0" friction="0.01"/>
    <limit effort="10" lower="0" upper="100" velocity="100.0"/>
    <axis xyz="0 1 0"/>
  </joint>

  <!-- First Drawer Walls -->
  <link name="drawer_1_left_wall">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.4 0.0133 0.13"/>
      </geometry>
      <material name="omni/LightGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <box size="0.4 0.0133 0.13"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/> 
      <inertia ixx="0.0017" ixy="0" ixz="0" iyy="0.0187" iyz="0" izz="0.0170"/> <!-- 惯性缩小为 2/3 -->
    </inertial>
  </link>
  <joint name="drawer_1_2_dlw" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.1933 -0.01"/>
    <parent link="drawer_1"/>
    <child link="drawer_1_left_wall"/>
  </joint>

  <link name="drawer_1_right_wall">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.4 0.0133 0.13"/>
      </geometry>
      <material name="omni/LightGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <box size="0.4 0.0133 0.13"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/> 
      <inertia ixx="0.0017" ixy="0" ixz="0" iyy="0.0187" iyz="0" izz="0.0170"/> <!-- 惯性缩小为 2/3 -->
    </inertial>
  </link>
  <joint name="drawer_1_2_drw" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.1933 -0.01"/>
    <parent link="drawer_1"/>
    <child link="drawer_1_right_wall"/>
  </joint>

  <link name="drawer_1_bottom_wall">
    <contact>
      <friction_anchor/>
      <lateral_friction value="1.0"/>
    </contact>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.4 0.4 0.0133"/> 
      </geometry>
      <material name="omni/LightGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <box size="0.4 0.4 0.0133"/> 
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/> 
      <inertia ixx="0.0073" ixy="0" ixz="0" iyy="0.0170" iyz="0" izz="0.0243"/> <!-- 惯性缩小为 2/3 -->
    </inertial>
  </link>
  <joint name="drawer_1_2_dbow" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 -0.08"/> 
    <parent link="drawer_1"/>
    <child link="drawer_1_bottom_wall"/>
  </joint>

  <link name="drawer_1_back_wall">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.0133 0.4 0.13"/>
      </geometry>
      <material name="omni/LightGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <box size="0.0133 0.4 0.13"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/> 
      <inertia ixx="0.0094" ixy="0" ixz="0" iyy="0.0022" iyz="0" izz="0.0145"/> <!-- 惯性缩小为 2/3 -->
    </inertial>
  </link>
  <joint name="drawer_1_2_dbaw" type="fixed">
    <origin rpy="0 0 0" xyz="0.1933 0 -0.01"/>
    <parent link="drawer_1"/>
    <child link="drawer_1_back_wall"/>
  </joint>

  <link name="drawer_1_front_wall">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.0133 0.4 0.13"/>
      </geometry>
      <material name="omni/LightGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <box size="0.0133 0.4 0.13"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1"/> 
      <inertia ixx="0.0094" ixy="0" ixz="0" iyy="0.0022" iyz="0" izz="0.0145"/> <!-- 惯性缩小为 2/3 -->
    </inertial>
  </link>
  <joint name="drawer_1_2_dfw" type="fixed">
    <origin rpy="0 0 0" xyz="-0.1933 0 -0.01"/>
    <parent link="drawer_1"/>
    <child link="drawer_1_front_wall"/>
  </joint>
  <!-- Handle -->
  <link name="handle_1">
    <contact><lateral_friction value="5"/></contact>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry><box size="0.035 0.07 0.04"/></geometry>
      <material name="omni/White"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry><box size="0.035 0.07 0.04"/></geometry>
    </collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="1.3333e-05" ixy="0" ixz="0" iyy="6.6667e-05" iyz="0" izz="6.6667e-05"/>
    </inertial>
  </link>
  <joint name="drawer_1_2_handle_1" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.23 0"/>
    <parent link="drawer_1"/>
    <child link="handle_1"/>
  </joint>

  <!-- Object Position -->
  <link name="drawer_obj_pos">
    <contact><lateral_friction value="1.0"/></contact>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.0073" ixy="0" ixz="0" iyy="0.0170" iyz="0" izz="0.0243"/>
    </inertial>
  </link>
  <joint name="dbow2dop" type="fixed">
    <origin rpy="0 0 0" xyz="0.1067 0 0.04"/>
    <parent link="drawer_1_bottom_wall"/>
    <child link="drawer_obj_pos"/>
  </joint>
</robot>